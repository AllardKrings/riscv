apiVersion: argoproj.io/v1alpha1
kind: WorkflowTemplate
metadata:
  labels:
    workflows.argoproj.io/creator: system-serviceaccount-argo-argo-server
  name: input-artifact-git
  namespace: argo
spec:
  arguments: {}
  entrypoint: git-clone
  templates:
  - container:
      args:
      - git status && ls && mvn clean install
      command:
      - sh
      - -c
      image: allardkrings/riscv64-maven
      name: ""
      resources: {}
      volumeMounts:
      - mountPath: /var/run/docker.sock
        name: dockersock
      workingDir: /src
    inputs:
      artifacts:
      - git:
          passwordSecret:
            key: password
            name: gitea-creds
          repo: https://gitea-riscv.alldcs.nl/allard/olproperties.git
          usernameSecret:
            key: username
            name: gitea-creds
        name: argo-source
        path: /src
    metadata: {}
    name: git-clone
    outputs: {}
  volumes:
  - hostPath:
      path: /var/run/docker.sock
    name: dockersock
